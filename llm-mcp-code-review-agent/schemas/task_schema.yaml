version: 1
tasks:
  - task_name: fetch_pr_diffs
    inputs:
      - name: repo_url
      - name: pr_number
    outputs:
      - name: file_diffs
    tools:
      - tool_name: git_utils

  - task_name: iterate_file_diffs
    description: Expand a file diff mapping into an ordered list of per-file diff entries.
    inputs:
      - name: file_diffs
    outputs:
      - name: entries
        description: A list of objects containing file names and their diff text.
    tools:
      - tool_name: inline_diff_tasks
